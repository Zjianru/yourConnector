# yourConnector 里程碑与待办

## 1. 状态标签

1. `ACCEPTED`：已完成并通过当前验收基线。
2. `IN_PROGRESS`：已启动开发，尚未完成验收闭环。
3. `TODO`：未启动。
4. `BLOCKED`：受外部条件阻塞。

## 2. 已验收里程碑

### M1 基础通信链路（`ACCEPTED`）

1. Relay / Sidecar / Mobile 可连通。
2. Mobile 可发事件，Sidecar 可回传。
3. Relay 按 `systemId` 路由。

### M2 配对与鉴权基线（`ACCEPTED`）

1. Relay 提供 `/v1/pair/bootstrap` 统一签发。
2. App 侧配对使用 `pairTicket`，拒绝 `pairToken` 直连。
3. `preflight -> exchange` 后换发 `access/refresh + PoP`。
4. WS 连接采用 `accessToken + keyId + ts + nonce + sig`。

### M3 多宿主与工具接入（`ACCEPTED`）

1. 多宿主并行在线、自动重连、手动重连。
2. 工具自动发现并区分 `Connected/Candidates`。
3. 支持工具接入、断开、改名、控制端重绑。

### M4 工具详情与运维视图（`ACCEPTED`）

1. `tool_details_refresh_request/tool_details_snapshot` 详情通道可用。
2. `openclaw.v1` 与 `opencode.v1` 详情渲染可用。
3. 详情失败保留旧值并标记 `stale`。
4. Host Snapshot 指标可视化可用。

### M4.5 聊天与报告闭环（`ACCEPTED`）

1. 聊天事件 `tool_chat_started/chunk/finished` 可用。
2. 会话级单活跃执行、取消请求可用。
3. 报告事件 `tool_report_fetch_started/chunk/finished` 可用。
4. Markdown 报告读取与移动端查看弹窗可用。

### M4.6 日志与追踪基线（`ACCEPTED`）

1. Relay/Sidecar 默认写入 `logs/raw`。
2. 历史日志自动归档到 `logs/archive/*.7z`。
3. 移动端支持结构化日志导出。
4. 跨端追踪字段（`eventId/traceId`）已贯通。

## 3. 进行中里程碑

### M5 工具运维执行器（`IN_PROGRESS`）

已完成：

1. 工具进程控制事件与回执链路。
2. `stop/restart` 基本动作（按工具能力约束）。

待完成：

1. 更细粒度动作权限与审计策略。
2. 失败重试策略与操作历史沉淀。
3. 面向更多工具的统一动作抽象。

## 4. 待办里程碑

### M6 终端交互闭环（`TODO`）

1. `terminal_open/input/resize/output` 最小闭环。
2. 移动端终端界面与控制键映射。

### M7 协议可靠性补全（`TODO`）

1. `seq/ack` 与断线恢复。
2. 重复包去重与幂等处理。
3. 重连后的状态重建。

### M8 云部署与平台化（`TODO`）

1. 云端 Relay 部署模板与运维脚本。
2. 限流、连接配额、审计日志增强。
3. 发布回滚与高可用策略完善。

## 5. 执行顺序建议

1. 先完成 M5 的稳定性与审计闭环。
2. 再进入 M6（终端交互）。
3. 最后补 M7/M8（可靠性与云部署）。
